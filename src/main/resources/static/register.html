<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - AI Insight</title>
    <link rel="stylesheet" href="css/sign-up.css">
</head>
<body class="login-page-body">

<div class="login-card">
    <a href="home.html" class="logo">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 12C9 13.3807 10.1193 14.5 11.5 14.5C12.8807 14.5 14 13.3807 14 12C14 10.6193 12.8807 9.5 11.5 9.5C10.1193 9.5 9 10.6193 9 12Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C6.75329 21.5 2.5 17.2467 2.5 12C2.5 6.75329 6.75329 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12Z" stroke="currentColor" stroke-width="1.5"/>
            <path d="M12 2.5V4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M12 20V21.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M2.5 12L4 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M20 12L21.5 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>AI Insight</span>
    </a>

    <div class="login-header">
        <h2>Create an Account</h2>
        <p>Start your journey with AI Insight today.</p>
    </div>

    <form class="login-form" id="registrationForm">
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" placeholder="Your Username" required>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="you@example.com" required>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" placeholder="••••••••" required>
        </div>
        <button type="submit" class="btn btn-primary btn-large">Sign Up</button>
    </form>
    <p id="message" style="text-align: center; color: red;"></p>
    <div class="signup-link">
        <p>Already have an account? <a href="index.html">Sign In</a></p>
    </div>
</div>

<script>
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const formData = new FormData(this);
        const user = {};
        formData.forEach((value, key) => user[key] = value);

        fetch('/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(user)
        })
        .then(response => response.text())
        .then(data => {
            const messageElement = document.getElementById('message');
            messageElement.textContent = data;
            if (data === 'Registration successful') {
                messageElement.style.color = 'green';
                setTimeout(() => {
                    window.location.href = '/index.html';
                }, 2000);
            } else {
                messageElement.style.color = 'red';
            }
        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById('message').textContent = 'An error occurred during registration.';
        });
    });
</script>

</body>
</html>
